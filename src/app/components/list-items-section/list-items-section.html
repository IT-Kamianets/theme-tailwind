<section class="list-items-section">
	<!-- Header -->
	<div class="section-header">
		<h2 class="section-title">{{ title }}</h2>
	</div>

	<!-- Search Bar (only show when maxItems is 0 - full list view) -->
	@if (showSearch && maxItems === 0) {
		<div class="search-container">
			<div class="search-input-wrapper">
				<input
					type="text"
					placeholder="üîç –ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é, –æ–ø–∏—Å–æ–º –∞–±–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é..."
					class="search-input"
					[value]="searchQuery()"
					(input)="searchQuery.set($event.target.value || '')"
				/>
				@if (searchQuery()) {
					<button class="clear-btn" (click)="clearSearch()" title="–û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ—à—É–∫">
						‚úï
					</button>
				}
			</div>
			<div class="search-stats">
				{{ displayItems.length }} –∑ {{ items.length }} —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
			</div>
		</div>
	}

	<!-- Items Grid -->
	<div [class]="'items-grid grid-cols-' + itemsPerRow">
		@if (displayItems.length > 0) {
			@for (item of displayItems; track item.id) {
				<app-list-item
					[item]="item"
					[isSelected]="isItemSelected(item.id)"
					(itemSelected)="onItemSelect($event)"
				/>
			}
		} @else {
			<div class="empty-state col-span-full">
				<div class="empty-state-content">
					<p class="text-2xl mb-[var(--sp-2)]">üîç</p>
					<p style="color: var(--c-text-primary);">
						–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –¥–ª—è "{{ searchQuery() }}"
					</p>
					<button class="empty-state-btn" (click)="clearSearch()">
						–û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ—à—É–∫
					</button>
				</div>
			</div>
		}
	</div>

	<!-- View All Button (only show when maxItems is set and there are more items) -->
	@if (showViewAllButton && maxItems > 0 && filteredItems.length > maxItems) {
		<div class="view-all-container">
			<button class="view-all-btn" (click)="onViewAllClick()">
				–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏ ‚Üí
			</button>
		</div>
	}
</section>

