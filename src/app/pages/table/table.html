<div class="min-h-screen py-[var(--sp-8)] px-[var(--sp-4)]" style="background-color: var(--c-bg-primary);">
	<div class="max-w-7xl mx-auto">
		
		<!-- Premium Header -->
		<div class="mb-[var(--sp-6)] animate-fade-in">
			<div>
				<h1 class="text-3xl md:text-4xl font-bold" style="color: var(--c-text-secondary);">
					{{ tableConfig.title }}
				</h1>
				<p class="flex items-center gap-2 mt-1" style="color: var(--c-text-primary);">
					{{ tableConfig.subtitle }}
					<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium" style="background-color: var(--c-primary); color: white;">
						{{ totalRecords() }} items
					</span>
				</p>
			</div>
		</div>

		<!-- Notification Toast -->
		@if (notification()) {
			<div class="fixed top-20 left-1/2 -translate-x-1/2 sm:left-auto sm:right-4 sm:translate-x-0 z-50 animate-slide-in-right">
				<div 
					class="flex items-center gap-2 px-4 py-2 sm:px-5 sm:py-4 rounded-[var(--radius)] text-white text-sm whitespace-nowrap"
					[style.backgroundColor]="notification()?.type === 'success' ? 'var(--c-primary)' : 'var(--c-secondary)'"
					style="box-shadow: var(--shadow-md);"
				>
					@if (notification()?.type === 'success') {
						<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
						</svg>
					} @else {
						<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
						</svg>
					}
					<span class="font-medium">{{ notification()?.message }}</span>
				</div>
			</div>
		}

		<!-- Filters Section -->
		<div 
			class="rounded-[var(--radius-card)] p-[var(--sp-5)] mb-[var(--sp-5)] animate-fade-in"
			style="background-color: var(--c-bg-secondary); box-shadow: var(--shadow-sm);"
		>
			<div class="grid gap-[var(--sp-4)] md:grid-cols-4">
				
				@for (filter of tableConfig.filters; track filter.key) {
					@if (filter.type === 'search') {
						<!-- Search Input -->
						<div class="md:col-span-1">
							<label class="block text-sm font-semibold mb-[var(--sp-2)] flex items-center gap-[var(--sp-2)]" style="color: var(--c-text-secondary);">
								<svg class="w-4 h-4" style="color: var(--c-primary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
								</svg>
								{{ filter.label }}
							</label>
							<div class="relative">
								<input
									type="text"
									[value]="searchQuery()"
									(input)="updateSearch($any($event.target).value)"
									[placeholder]="filter.placeholder || 'Search...'"
									class="w-full pl-10 pr-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none"
									style="background-color: var(--c-bg-tertiary); border-color: var(--c-border); color: var(--c-text-primary);"
								/>
								<svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5" style="color: var(--c-text-muted);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
								</svg>
							</div>
						</div>
					} @else {
						<!-- Select Filter -->
						<div>
							<label class="block text-sm font-semibold mb-[var(--sp-2)] flex items-center gap-[var(--sp-2)]" style="color: var(--c-text-secondary);">
								<svg class="w-4 h-4" style="color: var(--c-primary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
								</svg>
								{{ filter.label }}
							</label>
							<select
								[value]="getFilterValue(filter.key)"
								(change)="updateFilter(filter.key, $any($event.target).value)"
								class="w-full px-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none appearance-none cursor-pointer"
								style="background-color: var(--c-bg-tertiary); border-color: var(--c-border); color: var(--c-text-primary);"
							>
								@for (option of filter.options; track option.value) {
									<option [value]="option.value">{{ option.label }}</option>
								}
							</select>
						</div>
					}
				}

				<!-- Clear Filters -->
				<div class="flex items-end">
					@if (hasActiveFilters()) {
						<button
							(click)="clearFilters()"
							class="w-full px-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] font-medium border-2 transition-all duration-[var(--motion)] flex items-center justify-center gap-[var(--sp-2)]"
							style="border-color: var(--c-secondary); color: var(--c-secondary); background-color: transparent;"
						>
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
							</svg>
							Clear Filters
						</button>
					} @else {
						<div 
							class="w-full px-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] font-medium border-2 border-dashed flex items-center justify-center gap-[var(--sp-2)]"
							style="border-color: var(--c-border); color: var(--c-text-muted);"
						>
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
							</svg>
							No active filters
						</div>
					}
				</div>
			</div>
		</div>

		<!-- Table Container -->
		<div 
			class="rounded-[var(--radius-card)] overflow-hidden animate-fade-in"
			style="background-color: var(--c-bg-secondary); box-shadow: var(--shadow-md);"
		>
			
			<!-- Table -->
			<div class="overflow-x-auto">
				<table class="w-full">
					<thead>
						<tr style="background-color: var(--c-bg-tertiary);">
							@for (column of tableConfig.columns; track column.key) {
								<th 
									class="px-[var(--sp-4)] py-[var(--sp-4)] font-semibold text-sm uppercase tracking-wider border-b"
									[style.textAlign]="column.align || 'left'"
									[style.width]="column.width || 'auto'"
									style="color: var(--c-text-secondary); border-color: var(--c-border);"
								>
									@if (column.sortable) {
										<button
											(click)="toggleSort(column.key)"
											class="inline-flex items-center gap-[var(--sp-2)] hover:opacity-80 transition-opacity duration-[var(--motion)]"
										>
											{{ column.label }}
											<span 
												class="w-5 h-5 rounded flex items-center justify-center text-xs"
												[style.backgroundColor]="sortColumn() === column.key ? 'var(--c-primary)' : 'var(--c-border)'"
												[style.color]="sortColumn() === column.key ? 'white' : 'var(--c-text-muted)'"
											>
												{{ getSortIcon(column.key) }}
											</span>
										</button>
									} @else {
										{{ column.label }}
									}
								</th>
							}
							<th 
								class="px-[var(--sp-4)] py-[var(--sp-4)] font-semibold text-sm uppercase tracking-wider text-center border-b"
								style="color: var(--c-text-secondary); border-color: var(--c-border);"
							>
								Actions
							</th>
						</tr>
					</thead>
					<tbody>
						@for (row of filteredAndSortedData(); track row.id; let odd = $odd) {
							<tr 
								class="transition-all duration-[var(--motion)] hover:opacity-90"
								[style.backgroundColor]="odd ? 'var(--c-bg-tertiary)' : 'var(--c-bg-secondary)'"
							>
								@for (column of tableConfig.columns; track column.key) {
									<td 
										class="px-[var(--sp-4)] py-[var(--sp-3)] border-b"
										[style.textAlign]="column.align || 'left'"
										style="border-color: var(--c-border);"
									>
										@switch (column.type) {
											@case ('image') {
												@if (getRecordValue(row, column.key)) {
													<img 
														[src]="getRecordValue(row, column.key)" 
														[alt]="row['productName']"
														class="w-12 h-12 rounded-[var(--radius)] object-cover mx-auto"
														style="box-shadow: var(--shadow-sm);"
													/>
												} @else {
													<div 
														class="w-12 h-12 rounded-[var(--radius)] flex items-center justify-center mx-auto text-xl"
														style="background-color: var(--c-bg-tertiary);"
													>
														ðŸ“¦
													</div>
												}
											}
											@case ('badge') {
												<span 
													class="inline-flex items-center px-[var(--sp-3)] py-1 rounded-full text-sm font-medium"
													[class]="'badge-' + getRecordValue(row, column.key)"
												>
													@if (column.key === 'category') {
														{{ getCategoryLabel(getRecordValue(row, column.key)) }}
													} @else {
														{{ getStatusLabel(getRecordValue(row, column.key)) }}
													}
												</span>
											}
											@case ('currency') {
												<span class="font-bold" style="color: var(--c-text-secondary);">
													{{ formatCurrency(getRecordValue(row, column.key)) }}
												</span>
											}
											@case ('number') {
												<span 
													class="font-medium"
													[style.color]="getRecordValue(row, column.key) === 0 ? 'var(--c-secondary)' : 'var(--c-text-primary)'"
												>
													{{ getRecordValue(row, column.key) }}
												</span>
											}
											@case ('date') {
												<span class="text-sm" style="color: var(--c-text-muted);">
													{{ formatDate(getRecordValue(row, column.key)) }}
												</span>
											}
											@default {
												<span style="color: var(--c-text-primary);">{{ getRecordValue(row, column.key) }}</span>
											}
										}
									</td>
								}
								<td class="px-[var(--sp-4)] py-[var(--sp-3)] border-b" style="border-color: var(--c-border);">
									<div class="flex items-center justify-center gap-[var(--sp-2)]">
										<!-- Edit Button -->
										<button
											(click)="openEditModal(row)"
											class="w-8 h-8 flex items-center justify-center rounded-[var(--radius)] border transition-all duration-[var(--motion)] hover:scale-110"
											style="background-color: var(--c-bg-secondary); border-color: var(--c-primary); color: var(--c-primary);"
											title="Edit"
										>
											<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
											</svg>
										</button>
										<!-- Delete Button -->
										<button
											(click)="openDeleteModal(row)"
											class="w-8 h-8 flex items-center justify-center rounded-[var(--radius)] border transition-all duration-[var(--motion)] hover:scale-110"
											style="background-color: var(--c-bg-secondary); border-color: var(--c-secondary); color: var(--c-secondary);"
											title="Delete"
										>
											<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
											</svg>
										</button>
									</div>
								</td>
							</tr>
						} @empty {
							<tr>
								<td [attr.colspan]="tableConfig.columns.length + 1" class="px-[var(--sp-4)] py-[var(--sp-8)] text-center">
									<div class="flex flex-col items-center gap-[var(--sp-4)]">
										<div 
											class="w-16 h-16 rounded-full flex items-center justify-center"
											style="background-color: var(--c-bg-tertiary);"
										>
											<span class="text-3xl">ðŸ“¦</span>
										</div>
										<p style="color: var(--c-text-muted);">{{ tableConfig.emptyMessage }}</p>
										<button
											(click)="addNewRecord()"
											class="px-[var(--sp-4)] py-[var(--sp-2)] rounded-[var(--radius-btn)] font-medium text-white transition-all duration-[var(--motion)] hover:opacity-90"
											style="background-color: var(--c-primary);"
										>
											Add First Product
										</button>
									</div>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>

			<!-- Table Footer -->
			<div 
				class="px-[var(--sp-5)] py-[var(--sp-4)] border-t flex flex-col sm:flex-row items-center justify-between gap-[var(--sp-4)]"
				style="background-color: var(--c-bg-tertiary); border-color: var(--c-border);"
			>
				<p class="text-sm" style="color: var(--c-text-muted);">
					Showing <span class="font-bold" style="color: var(--c-text-secondary);">{{ filteredRecords() }}</span> 
					of <span class="font-bold" style="color: var(--c-text-secondary);">{{ totalRecords() }}</span> products
				</p>
				<button
					(click)="addNewRecord()"
					class="inline-flex items-center gap-[var(--sp-2)] px-[var(--sp-4)] py-[var(--sp-2)] rounded-[var(--radius-btn)] font-medium text-white transition-all duration-[var(--motion)] hover:opacity-90"
					style="background-color: var(--c-primary);"
				>
					<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
					</svg>
					{{ tableConfig.addButtonLabel }}
				</button>
			</div>
		</div>
	</div>
</div>

<!-- ==================== -->
<!-- EDIT MODAL -->
<!-- ==================== -->
@if (isEditModalOpen()) {
	<div class="fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
		<!-- Backdrop -->
		<div 
			class="absolute inset-0 backdrop-blur-sm"
			style="background-color: rgba(0, 0, 0, 0.5);"
			(click)="closeEditModal()"
		></div>
		
		<!-- Modal: small on mobile, large on desktop -->
		<div 
			class="relative w-full max-w-sm sm:max-w-2xl max-h-[90vh] overflow-hidden rounded-[var(--radius-card)] animate-scale-in flex flex-col"
			style="background-color: var(--c-bg-secondary); box-shadow: var(--shadow-md);"
		>
			<!-- Header -->
			<div 
				class="px-[var(--sp-5)] py-[var(--sp-4)] border-b"
				style="background-color: var(--c-bg-tertiary); border-color: var(--c-border);"
			>
				<div class="flex items-center justify-between">
					<h2 class="text-xl font-bold" style="color: var(--c-text-secondary);">
						{{ tableConfig.editModalTitle }}
					</h2>
					<button
						(click)="closeEditModal()"
						class="w-8 h-8 flex items-center justify-center rounded-[var(--radius)] transition-all duration-[var(--motion)]"
						style="background-color: var(--c-border); color: var(--c-text-muted);"
					>
						<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
						</svg>
					</button>
				</div>
			</div>

			<!-- Form -->
			<div class="p-[var(--sp-4)] overflow-y-auto flex-1 min-h-0">
				<!-- Image Section -->
				<div class="mb-[var(--sp-5)]">
					<label class="block text-sm font-semibold mb-[var(--sp-2)]" style="color: var(--c-text-secondary);">
						Product Image
					</label>
					<div class="flex items-center gap-[var(--sp-4)]">
						@if (editImagePreview()) {
							<div class="relative group">
								<img 
									[src]="editImagePreview()" 
									alt="Product Image" 
									class="w-20 h-20 rounded-[var(--radius)] object-cover"
									style="box-shadow: var(--shadow-sm);"
								/>
								<button
									type="button"
									(click)="removeEditImage()"
									class="absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-white text-xs transition-all duration-[var(--motion)] hover:scale-110"
									style="background-color: var(--c-secondary);"
								>
									âœ•
								</button>
							</div>
						} @else {
							<div 
								class="w-20 h-20 rounded-[var(--radius)] flex items-center justify-center text-2xl"
								style="background-color: var(--c-bg-tertiary);"
							>
								ðŸ“¦
							</div>
						}
						<div class="flex flex-col gap-[var(--sp-2)]">
							<label 
								class="px-[var(--sp-4)] py-[var(--sp-2)] rounded-[var(--radius-btn)] font-medium cursor-pointer text-white text-sm transition-all duration-[var(--motion)] hover:opacity-90"
								style="background-color: var(--c-primary);"
							>
								Change Image
								<input type="file" accept="image/jpeg,image/png" (change)="onEditImageSelect($event)" class="hidden" />
							</label>
							<span class="text-xs" style="color: var(--c-text-muted);">JPG, PNG (max 5MB)</span>
						</div>
					</div>
					@if (editImageError()) {
						<p class="mt-2 text-sm flex items-center gap-1" style="color: var(--c-secondary);">
							<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
								<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
							</svg>
							{{ editImageError() }}
						</p>
					}
				</div>

				<div class="grid gap-[var(--sp-4)] md:grid-cols-2">
					@for (column of tableConfig.columns; track column.key) {
						@if (column.editable) {
							<div [class.md:col-span-2]="column.key === 'productName'">
								<label class="block text-sm font-semibold mb-[var(--sp-2)]" style="color: var(--c-text-secondary);">
									{{ column.label }}
									@if (validationRules[column.key]) {
										<span style="color: var(--c-secondary);">*</span>
									}
								</label>
								
								@switch (column.inputType) {
									@case ('select') {
										<select
											[value]="getEditFormValue(column.key) || ''"
											(change)="updateEditField(column.key, $any($event.target).value)"
												class="w-full px-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none appearance-none cursor-pointer"
											[style.borderColor]="hasFieldError(column.key) ? 'var(--c-secondary)' : 'var(--c-border)'"
											style="background-color: var(--c-bg-tertiary); color: var(--c-text-primary);"
										>
											@for (option of column.options; track option.value) {
												<option [value]="option.value" [selected]="getEditFormValue(column.key) === option.value">{{ option.icon }} {{ option.label }}</option>
											}
										</select>
									}
									@case ('number') {
										@if (column.key === 'price') {
											<div class="relative">
												<span class="absolute left-[var(--sp-4)] top-1/2 -translate-y-1/2 font-medium" style="color: var(--c-text-muted);">$</span>
												<input
													type="text"
													inputmode="decimal"
													[value]="getEditFormValue(column.key) || ''"
													(input)="updateEditField(column.key, +$any($event.target).value || 0)"
													class="w-full pl-8 pr-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none"
													[style.borderColor]="hasFieldError(column.key) ? 'var(--c-secondary)' : 'var(--c-border)'"
													style="background-color: var(--c-bg-tertiary); color: var(--c-text-primary);"
												/>
											</div>
										} @else {
											<div class="relative">
												<input
													type="text"
													inputmode="numeric"
													[value]="getEditFormValue(column.key) || 0"
													(input)="updateEditField(column.key, +$any($event.target).value || 0)"
													class="w-full px-[var(--sp-4)] py-[var(--sp-3)] pr-16 rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none"
													[style.borderColor]="hasFieldError(column.key) ? 'var(--c-secondary)' : 'var(--c-border)'"
													style="background-color: var(--c-bg-tertiary); color: var(--c-text-primary);"
												/>
												@if (column.suffix) {
													<span class="absolute right-[var(--sp-4)] top-1/2 -translate-y-1/2 text-sm font-medium" style="color: var(--c-text-muted);">{{ column.suffix }}</span>
												}
											</div>
										}
									}
									@case ('textarea') {
										<textarea
											[value]="getEditFormValue(column.key) || ''"
											(input)="updateEditField(column.key, $any($event.target).value)"
											rows="3"
											class="w-full px-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none resize-none"
											[style.borderColor]="hasFieldError(column.key) ? 'var(--c-secondary)' : 'var(--c-border)'"
											style="background-color: var(--c-bg-tertiary); color: var(--c-text-primary);"
										></textarea>
									}
									@default {
										<input
											type="text"
											[value]="getEditFormValue(column.key) || ''"
											(input)="updateEditField(column.key, $any($event.target).value)"
											class="w-full px-[var(--sp-4)] py-[var(--sp-3)] rounded-[var(--radius)] border transition-all duration-[var(--motion)] focus:outline-none"
											[style.borderColor]="hasFieldError(column.key) ? 'var(--c-secondary)' : 'var(--c-border)'"
											style="background-color: var(--c-bg-tertiary); color: var(--c-text-primary);"
										/>
									}
								}

								<!-- Validation Error -->
								@if (hasFieldError(column.key)) {
									<p class="mt-1 text-sm flex items-center gap-1" style="color: var(--c-secondary);">
										<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
											<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
										</svg>
										{{ getFieldError(column.key) }}
									</p>
								}
							</div>
						}
					}
				</div>
			</div>

			<!-- Footer -->
			<div 
				class="px-[var(--sp-5)] py-[var(--sp-4)] border-t flex items-center justify-end gap-[var(--sp-3)]"
				style="background-color: var(--c-bg-tertiary); border-color: var(--c-border);"
			>
				<button
					(click)="closeEditModal()"
					class="px-[var(--sp-5)] py-[var(--sp-3)] rounded-[var(--radius-btn)] font-medium border-2 transition-all duration-[var(--motion)]"
					style="border-color: var(--c-border); color: var(--c-text-primary); background-color: transparent;"
				>
					Cancel
				</button>
				<button
					(click)="saveRecord()"
					class="px-[var(--sp-5)] py-[var(--sp-3)] rounded-[var(--radius-btn)] font-semibold text-white transition-all duration-[var(--motion)] hover:opacity-90"
					style="background-color: var(--c-primary);"
				>
					Save Changes
				</button>
			</div>
		</div>
	</div>
}

<!-- ==================== -->
<!-- DELETE CONFIRMATION MODAL -->
<!-- ==================== -->
@if (isDeleteModalOpen()) {
	<div class="fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
		<!-- Backdrop -->
		<div 
			class="absolute inset-0 backdrop-blur-sm"
			style="background-color: rgba(0, 0, 0, 0.5);"
			(click)="closeDeleteModal()"
		></div>
		
		<!-- Modal: compact on mobile, normal on desktop -->
		<div 
			class="relative w-full max-w-xs sm:max-w-md overflow-hidden rounded-[var(--radius-card)] animate-scale-in"
			style="background-color: var(--c-bg-secondary); box-shadow: var(--shadow-md);"
		>
			<div class="p-[var(--sp-6)] text-center">
				<!-- Icon -->
				<div 
					class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-[var(--sp-4)]"
					style="background-color: rgba(197, 61, 61, 0.1);"
				>
					<svg class="w-8 h-8" style="color: var(--c-secondary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
					</svg>
				</div>

				<!-- Text -->
				<h3 class="text-xl font-bold mb-[var(--sp-2)]" style="color: var(--c-text-secondary);">
					{{ tableConfig.deleteModalTitle }}?
				</h3>
				<p class="mb-[var(--sp-5)]" style="color: var(--c-text-muted);">
					Are you sure you want to delete 
					<span class="font-semibold" style="color: var(--c-text-secondary);">
						{{ deletingRecord()?.productName }}
					</span>?
					This action cannot be undone.
				</p>

				<!-- Buttons -->
				<div class="flex items-center justify-center gap-[var(--sp-3)]">
					<button
						(click)="closeDeleteModal()"
						class="px-[var(--sp-5)] py-[var(--sp-3)] rounded-[var(--radius-btn)] font-medium border-2 transition-all duration-[var(--motion)]"
						style="border-color: var(--c-border); color: var(--c-text-primary); background-color: transparent;"
					>
						Cancel
					</button>
					<button
						(click)="confirmDelete()"
						class="px-[var(--sp-5)] py-[var(--sp-3)] rounded-[var(--radius-btn)] font-semibold text-white transition-all duration-[var(--motion)] hover:opacity-90"
						style="background-color: var(--c-secondary);"
					>
						Delete
					</button>
				</div>
			</div>
		</div>
	</div>
}
