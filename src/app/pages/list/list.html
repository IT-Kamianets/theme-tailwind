<div class="min-h-screen" style="background-color: var(--c-bg-primary);">
	<div class="max-w-7xl mx-auto px-[var(--sp-4)] sm:px-[var(--sp-6)] lg:px-[var(--sp-8)] py-[var(--sp-8)]">
		<!-- Header -->
		<div class="mb-[var(--sp-8)] animate-fade-in">
			<h1 class="text-4xl font-bold mb-[var(--sp-2)]" style="color: var(--c-text-secondary);">
				Items List
			</h1>
			<p class="text-lg" style="color: var(--c-text-primary);">Browse and manage your items</p>
		</div>

		<!-- Filter Section -->
		<div class="mb-[var(--sp-6)] animate-slide-in">
			<div class="flex flex-wrap gap-[var(--sp-2)]">
				@for (cat of categories(); track cat) {
					<button
						(click)="filterByCategory(cat)"
						[class.ring-2]="filteredCategory() === cat"
						[style.backgroundColor]="
							filteredCategory() === cat ? 'var(--c-primary)' : 'var(--c-bg-secondary)'
						"
						[style.color]="
							filteredCategory() === cat ? 'white' : 'var(--c-text-primary)'
						"
						class="filter-btn px-[var(--sp-4)] py-[var(--sp-2)] rounded-[var(--radius)] font-medium transition-all duration-[var(--motion)]"
						[style.boxShadow]="filteredCategory() === cat ? 'var(--shadow-md)' : 'var(--shadow-sm)'"
					>
						{{ cat }}
					</button>
				}
			</div>
		</div>

		<!-- Main Content Grid -->
		<div class="grid grid-cols-1 lg:grid-cols-3 gap-[var(--sp-8)]">
			<!-- List Section -->
			<div class="lg:col-span-2">
				<div class="space-y-[var(--sp-4)]">
					<h2 class="text-2xl font-bold mb-[var(--sp-6)] animate-bounce-in" style="color: var(--c-text-secondary);">
						{{ filteredCategory() === 'All' ? 'All Items' : filteredCategory() }}
					</h2>

					<div class="grid grid-cols-1 md:grid-cols-2 gap-[var(--sp-4)]">
						@for (item of getFilteredItems(); track item.id) {
							<div
								(click)="selectItem(item)"
								[style.backgroundColor]="'var(--c-bg-secondary)'"
								[style.borderColor]="selectedItem()?.id === item.id ? 'var(--c-primary)' : 'var(--c-border)'"
								[class]="'list-item-stagger rounded-[var(--radius-card)] cursor-pointer transition-all duration-[var(--motion)] border-2 overflow-hidden ' + (selectedItem()?.id === item.id ? 'ring-2 ring-[var(--c-primary)]/30 animate-pulse-glow' : 'hover:shadow-md')"
								[style.boxShadow]="selectedItem()?.id === item.id ? 'var(--shadow-md)' : 'var(--shadow-sm)'"
							>
								<!-- Product Image -->
								<div class="relative h-48 overflow-hidden bg-gradient-to-br from-slate-200 to-slate-300">
									@if (item.image) {
										<img 
											[src]="item.image" 
											[alt]="item.name"
											class="w-full h-full object-cover transition-transform duration-[var(--motion)] hover:scale-110"
										/>
									} @else {
										<div class="w-full h-full flex items-center justify-center text-6xl">
											{{ item.icon || 'ðŸ“¦' }}
										</div>
									}
									<!-- Category Badge -->
									<span
										[class]="'absolute top-[var(--sp-2)] right-[var(--sp-2)] text-xs font-semibold px-[var(--sp-3)] py-[var(--sp-1)] rounded-full animate-scale-in ' + getCategoryColor(item.category)"
									>
										{{ item.category }}
									</span>
								</div>

								<!-- Product Info -->
								<div class="p-[var(--sp-6)]">
									<div class="flex items-center gap-[var(--sp-2)] mb-[var(--sp-2)]">
										<span class="text-2xl transition-transform duration-[var(--motion)] hover:scale-110">{{ item.icon || 'ðŸ“¦' }}</span>
										<h3 class="text-lg font-bold" style="color: var(--c-text-secondary);">
											{{ item.name }}
										</h3>
									</div>

									<p class="text-sm mb-[var(--sp-4)]" style="color: var(--c-text-primary);">
										{{ item.description }}
									</p>

									<p class="text-xs" style="color: var(--c-text-muted);">
										ðŸ“… {{ item.date }}
									</p>
								</div>
							</div>
						}
					</div>

					@if (getFilteredItems().length === 0) {
						<div class="text-center py-[var(--sp-8)] animate-fade-in">
							<p class="text-lg" style="color: var(--c-text-muted);">
								No items found in this category
							</p>
						</div>
					}
				</div>
			</div>

			<!-- Detail Section -->
			<div class="lg:col-span-1">
				<div
					style="background-color: var(--c-bg-secondary); border: 1px solid var(--c-border);"
					class="detail-panel rounded-[var(--radius-card)] p-[var(--sp-6)] sticky top-[var(--sp-6)]"
					[style.boxShadow]="'var(--shadow-md)'"
				>
					@if (selectedItem(); as item) {
						<div class="space-y-[var(--sp-6)] animate-slide-up">
							<div>
								<p class="text-xs font-semibold mb-[var(--sp-2)] uppercase tracking-wider" style="color: var(--c-text-muted);">
									Selected Item
								</p>
								<h2 class="text-2xl font-bold" style="color: var(--c-text-secondary);">
									{{ item.name }}
								</h2>
							</div>

							<div class="space-y-[var(--sp-4)] border-t" style="border-color: var(--c-border); padding-top: var(--sp-4);">
								<div>
									<p class="text-sm font-medium mb-[var(--sp-1)]" style="color: var(--c-text-muted);">
										Category
									</p>
									<p class="font-semibold" style="color: var(--c-text-secondary);">
										{{ item.category }}
									</p>
								</div>

								<div>
									<p class="text-sm font-medium mb-[var(--sp-1)]" style="color: var(--c-text-muted);">
										Description
									</p>
									<p class="font-semibold text-sm" style="color: var(--c-text-primary);">
										{{ item.description }}
									</p>
								</div>

								<div>
									<p class="text-sm font-medium mb-[var(--sp-1)]" style="color: var(--c-text-muted);">
										Item ID
									</p>
									<p class="font-semibold font-mono" style="color: var(--c-text-secondary);">
										#{{ formatId(item.id) }}
									</p>
								</div>

								<div>
									<p class="text-sm font-medium mb-[var(--sp-1)]" style="color: var(--c-text-muted);">
										Date Added
									</p>
									<p class="font-semibold" style="color: var(--c-text-secondary);">
										{{ item.date }}
									</p>
								</div>
							</div>

							<div class="flex gap-[var(--sp-2)] pt-[var(--sp-4)] animate-slide-up">
								<button
									class="flex-1 text-white font-semibold py-[var(--sp-3)] px-[var(--sp-4)] rounded-[var(--radius-btn)] transition-all duration-[var(--motion)] hover:shadow-md transform hover:-translate-y-1"
									style="background-color: var(--c-primary); cursor: pointer;"
									onmouseover="this.style.backgroundColor = 'var(--c-primary-hover)'; this.style.transform = 'translateY(-4px)'"
									onmouseout="this.style.backgroundColor = 'var(--c-primary)'; this.style.transform = 'translateY(0)'"
								>
									View Details
								</button>
								<button
									(click)="clearSelection()"
									class="flex-1 font-semibold py-[var(--sp-3)] px-[var(--sp-4)] rounded-[var(--radius-btn)] transition-all duration-[var(--motion)] border hover:shadow-md transform hover:-translate-y-1"
									style="border-color: var(--c-border); color: var(--c-text-primary); background-color: var(--c-bg-primary); cursor: pointer;"
								>
									Clear
								</button>
							</div>
						</div>
					} @else {
						<div class="flex flex-col items-center justify-center py-[var(--sp-8)] text-center animate-fade-in">
							<p class="text-lg font-medium mb-[var(--sp-2)]" style="color: var(--c-text-primary);">
								No item selected
							</p>
							<p class="text-sm" style="color: var(--c-text-muted);">
								Click on an item to view details
							</p>
						</div>
					}
				</div>
			</div>
		</div>
	</div>
</div>
