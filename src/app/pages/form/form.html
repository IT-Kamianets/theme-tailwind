<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8">
	<div class="max-w-5xl mx-auto">
		
		<!-- Header -->
		<div class="text-center mb-12 animate-fade-in">
			<h1 class="text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4">
				Advanced Form Template
			</h1>
			<p class="text-lg text-slate-600 max-w-2xl mx-auto">
				Schema-driven form with validation, file uploads, and modern UI components
			</p>
		</div>

		<!-- Progress Bar -->
		<div class="mb-8 px-4">
			<div class="flex items-center justify-between mb-2">
				<span class="text-sm font-medium text-slate-600">Form Progress</span>
				<span class="text-sm font-bold text-indigo-600">{{ progress() }}%</span>
			</div>
			<div class="h-2 bg-slate-200 rounded-full overflow-hidden">
				<div 
					class="h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-full transition-all duration-700 ease-out"
					[style.width.%]="progress()"
				></div>
			</div>
		</div>

		<!-- Duplicate File Notification -->
		@if (duplicateNotification()) {
			<div class="fixed top-4 right-4 z-50 animate-slide-in-right">
				<div class="flex items-center gap-3 px-6 py-4 bg-amber-500 rounded-xl text-white shadow-2xl">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
					</svg>
					<span class="font-medium">{{ duplicateNotification() }}</span>
				</div>
			</div>
		}

		<!-- Success Message -->
		@if (submitted()) {
			<div class="mb-8 animate-bounce-in">
				<div class="bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-2xl p-8 shadow-lg shadow-emerald-100">
					<div class="flex items-center gap-4">
						<div class="flex-shrink-0 w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center animate-pulse">
							<svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
							</svg>
						</div>
						<div>
							<h3 class="text-xl font-bold text-emerald-900 mb-1">Submission Successful!</h3>
							<p class="text-emerald-700">Your form has been submitted successfully. We'll be in touch soon.</p>
						</div>
					</div>
				</div>
			</div>
		}

		<!-- Section Navigation Tabs -->
		<div class="flex flex-wrap gap-2 mb-8 justify-center">
			@for (section of formConfig.sections; track section.id; let i = $index) {
				<button
					type="button"
					(click)="setActiveSection(i)"
					class="group relative px-6 py-3 rounded-xl font-medium transition-all duration-300 transform hover:scale-105"
					[class]="activeSection() === i 
						? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-indigo-200' 
						: 'bg-white text-slate-600 hover:bg-slate-50 shadow-md hover:shadow-lg'"
				>
					<span class="flex items-center gap-2">
						<span class="text-lg">{{ section.icon }}</span>
						<span class="hidden sm:inline">{{ section.title }}</span>
						<span class="sm:hidden">{{ i + 1 }}</span>
					</span>
					@if (activeSection() === i) {
						<span class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-3 h-3 bg-indigo-600 rotate-45"></span>
					}
				</button>
			}
		</div>

		<!-- Form Container -->
		<div class="bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl shadow-slate-200 overflow-hidden">
			<form (ngSubmit)="submitForm()" class="relative">
				
				<!-- Section Content -->
				@for (section of formConfig.sections; track section.id; let sectionIndex = $index) {
					<div 
						class="transition-all duration-500 ease-out"
						[class]="activeSection() === sectionIndex ? 'block animate-slide-in' : 'hidden'"
					>
						<!-- Section Header -->
						<div class="bg-gradient-to-r from-slate-50 to-slate-100 px-8 py-6 border-b border-slate-200">
							<div class="flex items-center gap-4">
								<span class="text-3xl">{{ section.icon }}</span>
								<div>
									<h2 class="text-2xl font-bold text-slate-900">{{ section.title }}</h2>
									<p class="text-slate-600">{{ section.description }}</p>
								</div>
							</div>
						</div>

						<div class="p-8">
							
							<!-- ==================== -->
							<!-- SECTION 1: MEDIA UPLOAD -->
							<!-- ==================== -->
							@if (section.id === 'media') {
								<div class="space-y-8">
									
									<!-- Photo Upload -->
									<div class="group">
										<label class="block text-sm font-semibold text-slate-700 mb-3">
											<span class="flex items-center gap-2">
												üì∑ Profile Photo
											</span>
										</label>
										
										<div 
											class="relative border-2 border-dashed rounded-2xl p-8 transition-all duration-300 cursor-pointer"
											[class]="dragOver() 
												? 'border-indigo-500 bg-indigo-50 scale-[1.02]' 
												: 'border-slate-300 hover:border-indigo-400 hover:bg-slate-50'"
											(dragover)="$event.preventDefault(); dragOver.set(true)"
											(dragleave)="dragOver.set(false)"
											(drop)="onPhotoDrop($event)"
										>
											@if (photoPreview()) {
												<!-- Photo Preview -->
												<div class="flex flex-col items-center">
													<div class="relative group/photo">
														<img 
															[src]="photoPreview()" 
															alt="Preview" 
															class="w-40 h-40 rounded-2xl object-cover shadow-lg ring-4 ring-white transition-transform duration-300 group-hover/photo:scale-105"
														/>
														<button
															type="button"
															(click)="removePhoto()"
															class="absolute -top-2 -right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-110"
														>
															<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
																<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
															</svg>
														</button>
													</div>
													<p class="mt-4 text-sm text-slate-600">{{ formData().profilePhoto?.name }}</p>
													<label class="mt-2 text-sm text-indigo-600 hover:text-indigo-700 cursor-pointer font-medium">
														Change photo
														<input type="file" accept="image/*" (change)="onPhotoSelect($event)" class="hidden" />
													</label>
												</div>
											} @else {
												<!-- Upload Prompt -->
												<div class="flex flex-col items-center text-center">
													<div class="w-20 h-20 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
														<svg class="w-10 h-10 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
															<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
														</svg>
													</div>
													<p class="text-slate-700 font-medium mb-1">Drag and drop your photo here</p>
													<p class="text-sm text-slate-500 mb-4">or</p>
													<label class="px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-xl cursor-pointer transition-all duration-300 hover:shadow-lg hover:shadow-indigo-200 hover:scale-105">
														Browse Files
														<input type="file" accept="image/*" (change)="onPhotoSelect($event)" class="hidden" />
													</label>
												</div>
											}
										</div>
										<p class="mt-2 text-sm text-slate-500">Recommended: 400x400px, max 5MB (JPG, PNG, WebP)</p>
									</div>

									<!-- File Upload -->
									<div>
										<label class="block text-sm font-semibold text-slate-700 mb-3">
											<span class="flex items-center gap-2">
												üìé Supporting Documents
											</span>
										</label>
										
										<div 
											class="border-2 border-dashed rounded-2xl p-6 transition-all duration-300 cursor-pointer group"
											[class]="dragOverFiles() 
												? 'border-blue-500 bg-blue-50 scale-[1.02]' 
												: 'border-slate-300 hover:border-indigo-400 hover:bg-slate-50'"
											(dragover)="$event.preventDefault(); dragOverFiles.set(true)"
											(dragleave)="dragOverFiles.set(false)"
											(drop)="onFilesDrop($event)"
										>
											<label class="block cursor-pointer">
												<div class="flex flex-col items-center text-center">
													<div class="w-14 h-14 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-300">
														<svg class="w-7 h-7 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
															<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
														</svg>
													</div>
													<p class="text-slate-700 font-medium">Drag and drop files here or click to upload</p>
													<p class="text-sm text-slate-500 mt-1">PDF, DOC, XLS files up to 10MB each</p>
												</div>
												<input 
													type="file" 
													multiple 
													accept=".pdf,.doc,.docx,.xls,.xlsx" 
													(change)="onFilesSelect($event)" 
													class="hidden" 
												/>
											</label>
										</div>

										<!-- Uploaded Files List -->
										@if (formData().documents.length > 0) {
											<div class="mt-4 space-y-2">
												@for (file of formData().documents; track file.name; let fileIndex = $index) {
													<div class="flex items-center justify-between bg-slate-50 rounded-xl p-4 group hover:bg-slate-100 transition-colors duration-200 animate-slide-up">
														<div class="flex items-center gap-3">
															<span class="text-2xl">{{ getFileIcon(file) }}</span>
															<div>
																<p class="font-medium text-slate-700 truncate max-w-xs">{{ file.name }}</p>
																<p class="text-sm text-slate-500">{{ formatFileSize(file.size) }}</p>
															</div>
														</div>
														<button
															type="button"
															(click)="removeFile(fileIndex)"
															class="w-8 h-8 flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200"
														>
															<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
																<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
															</svg>
														</button>
													</div>
												}
											</div>
										}
									</div>
								</div>
							}

							<!-- ==================== -->
							<!-- SECTION 2: PERSONAL INFO -->
							<!-- ==================== -->
							@if (section.id === 'info') {
								<div class="grid gap-6 md:grid-cols-2">
									
									<!-- Full Name -->
									<div class="group">
										<label class="block text-sm font-semibold text-slate-700 mb-2">
											<span class="flex items-center gap-2">üë§ Full Name <span class="text-red-500">*</span></span>
										</label>
										<div class="relative">
											<input 
												type="text"
												[value]="formData().fullName"
												(input)="updateField('fullName', $any($event.target).value)"
												placeholder="Enter your full name"
												class="w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1"
												[class]="errors()['fullName'] 
													? 'border-red-300 bg-red-50 focus:ring-red-500 focus:border-red-500' 
													: 'border-slate-300 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400'"
											/>
											<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors">
												<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
												</svg>
											</span>
										</div>
										@if (errors()['fullName']) {
											<p class="mt-1.5 text-sm text-red-600 flex items-center gap-1 animate-shake">
												<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
													<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
												</svg>
												{{ errors()['fullName'] }}
											</p>
										}
									</div>

									<!-- Email -->
									<div class="group">
										<label class="block text-sm font-semibold text-slate-700 mb-2">
											<span class="flex items-center gap-2">‚úâÔ∏è Email Address <span class="text-red-500">*</span></span>
										</label>
										<div class="relative">
											<input 
												type="email"
												[value]="formData().email"
												(input)="updateField('email', $any($event.target).value)"
												placeholder="your@email.com"
												class="w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1"
												[class]="errors()['email'] 
													? 'border-red-300 bg-red-50 focus:ring-red-500 focus:border-red-500' 
													: 'border-slate-300 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400'"
											/>
											<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors">
												<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
												</svg>
											</span>
										</div>
										@if (errors()['email']) {
											<p class="mt-1.5 text-sm text-red-600 flex items-center gap-1 animate-shake">
												<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
													<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
												</svg>
												{{ errors()['email'] }}
											</p>
										}
									</div>

									<!-- Phone -->
									<div class="group">
										<label class="block text-sm font-semibold text-slate-700 mb-2">
											<span class="flex items-center gap-2">üì± Phone Number <span class="text-red-500">*</span></span>
										</label>
										<div class="relative">
											<input 
												type="tel"
												[value]="formData().phone"
												(input)="updateField('phone', $any($event.target).value)"
												placeholder="+1 (555) 000-0000"
												class="w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1"
												[class]="errors()['phone'] 
													? 'border-red-300 bg-red-50 focus:ring-red-500 focus:border-red-500' 
													: 'border-slate-300 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400'"
											/>
											<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors">
												<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
												</svg>
											</span>
										</div>
										@if (errors()['phone']) {
											<p class="mt-1.5 text-sm text-red-600 flex items-center gap-1 animate-shake">
												<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
													<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
												</svg>
												{{ errors()['phone'] }}
											</p>
										}
									</div>

									<!-- Company -->
									<div class="group">
										<label class="block text-sm font-semibold text-slate-700 mb-2">
											<span class="flex items-center gap-2">üè¢ Company</span>
										</label>
										<div class="relative">
											<input 
												type="text"
												[value]="formData().company"
												(input)="updateField('company', $any($event.target).value)"
												placeholder="Your company name"
												class="w-full px-4 py-3 pl-12 border border-slate-300 rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400"
											/>
											<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors">
												<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
												</svg>
											</span>
										</div>
									</div>

									<!-- Position -->
									<div class="group md:col-span-2 lg:col-span-1">
										<label class="block text-sm font-semibold text-slate-700 mb-2">
											<span class="flex items-center gap-2">üíº Position</span>
										</label>
										<div class="relative">
											<input 
												type="text"
												[value]="formData().position"
												(input)="updateField('position', $any($event.target).value)"
												placeholder="Your role or title"
												class="w-full px-4 py-3 pl-12 border border-slate-300 rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400"
											/>
											<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors">
												<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
													<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
												</svg>
											</span>
										</div>
									</div>

									<!-- Bio -->
									<div class="md:col-span-2">
										<label class="block text-sm font-semibold text-slate-700 mb-2">
											<span class="flex items-center gap-2">üìù Bio</span>
										</label>
										<textarea 
											[value]="formData().bio"
											(input)="updateField('bio', $any($event.target).value)"
											placeholder="Tell us about yourself, your experience, and what you're looking for..."
											rows="4"
											class="w-full px-4 py-3 border border-slate-300 rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400 resize-none"
										></textarea>
										<div class="flex justify-between items-center mt-1.5">
											<p class="text-sm text-slate-500">Brief description about yourself</p>
											<span 
												class="text-sm font-medium transition-colors"
												[class]="formData().bio.length > 450 ? 'text-amber-600' : 'text-slate-400'"
											>
												{{ formData().bio.length }} / 500
											</span>
										</div>
									</div>
								</div>
							}

							<!-- ==================== -->
							<!-- SECTION 3: PREFERENCES -->
							<!-- ==================== -->
							@if (section.id === 'preferences') {
								<div class="space-y-8">
									
									<!-- Date & Dropdowns Row -->
									<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
										
										<!-- Date Picker -->
										<div class="group">
											<label class="block text-sm font-semibold text-slate-700 mb-2">
												<span class="flex items-center gap-2">üìÖ Start Date <span class="text-red-500">*</span></span>
											</label>
											<div class="relative">
												<input 
													type="date"
													[value]="formData().startDate"
													(input)="updateField('startDate', $any($event.target).value)"
													class="w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 cursor-pointer"
													[class]="errors()['startDate'] 
														? 'border-red-300 bg-red-50 focus:ring-red-500 focus:border-red-500' 
														: 'border-slate-300 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400'"
												/>
												<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors pointer-events-none">
													<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
													</svg>
												</span>
											</div>
											@if (errors()['startDate']) {
												<p class="mt-1.5 text-sm text-red-600 flex items-center gap-1 animate-shake">
													<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
														<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
													</svg>
													{{ errors()['startDate'] }}
												</p>
											}
										</div>

										<!-- Category Select -->
										<div class="group">
											<label class="block text-sm font-semibold text-slate-700 mb-2">
												<span class="flex items-center gap-2">üìÇ Category <span class="text-red-500">*</span></span>
											</label>
											<div class="relative">
												<select
													[value]="formData().category"
													(change)="updateField('category', $any($event.target).value)"
													class="w-full px-4 py-3 pl-12 pr-10 border rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 cursor-pointer appearance-none bg-white"
													[class]="errors()['category'] 
														? 'border-red-300 bg-red-50 focus:ring-red-500 focus:border-red-500' 
														: 'border-slate-300 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400'"
												>
													<option value="">Select a category</option>
													<option value="general">üìã General</option>
													<option value="business">üíº Business</option>
													<option value="personal">üë§ Personal</option>
													<option value="education">üìö Education</option>
													<option value="other">üìå Other</option>
												</select>
												<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors pointer-events-none">
													<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path>
													</svg>
												</span>
												<span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none">
													<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
													</svg>
												</span>
											</div>
											@if (errors()['category']) {
												<p class="mt-1.5 text-sm text-red-600 flex items-center gap-1 animate-shake">
													<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
														<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
													</svg>
													{{ errors()['category'] }}
												</p>
											}
										</div>

										<!-- Priority Select -->
										<div class="group">
											<label class="block text-sm font-semibold text-slate-700 mb-2">
												<span class="flex items-center gap-2">üéØ Priority Level</span>
											</label>
											<div class="relative">
												<select
													[value]="formData().priority"
													(change)="updateField('priority', $any($event.target).value)"
													class="w-full px-4 py-3 pl-12 pr-10 border border-slate-300 rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-slate-400 cursor-pointer appearance-none bg-white"
												>
													<option value="">Select priority</option>
													<option value="low">üü¢ Low Priority</option>
													<option value="medium">üü° Medium Priority</option>
													<option value="high">üü† High Priority</option>
													<option value="urgent">üî¥ Urgent</option>
												</select>
												<span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors pointer-events-none">
													<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
													</svg>
												</span>
												<span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none">
													<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
														<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
													</svg>
												</span>
											</div>
										</div>
									</div>

									<!-- Radio Buttons -->
									<div>
										<label class="block text-sm font-semibold text-slate-700 mb-4">
											<span class="flex items-center gap-2">üîî Notification Preference <span class="text-red-500">*</span></span>
										</label>
										<div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-4">
											@for (option of [{value: 'email', label: 'Email', icon: '‚úâÔ∏è', desc: 'Get notified via email'}, {value: 'sms', label: 'SMS', icon: 'üì±', desc: 'Text message alerts'}, {value: 'push', label: 'Push', icon: 'üîî', desc: 'Browser notifications'}, {value: 'none', label: 'None', icon: 'üîï', desc: 'No notifications'}]; track option.value) {
												<label 
													class="relative flex flex-col p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 hover:shadow-md group"
													[class]="formData().notificationMethod === option.value 
														? 'border-indigo-500 bg-indigo-50 shadow-md shadow-indigo-100' 
														: 'border-slate-200 hover:border-indigo-300 bg-white'"
												>
													<input 
														type="radio" 
														name="notificationMethod"
														[value]="option.value"
														[checked]="formData().notificationMethod === option.value"
														(change)="updateField('notificationMethod', option.value)"
														class="sr-only"
													/>
													<div class="flex items-center gap-3 mb-2">
														<span class="text-2xl transition-transform duration-300 group-hover:scale-110">{{ option.icon }}</span>
														<span class="font-semibold text-slate-900">{{ option.label }}</span>
													</div>
													<p class="text-sm text-slate-500">{{ option.desc }}</p>
													@if (formData().notificationMethod === option.value) {
														<div class="absolute top-2 right-2 w-5 h-5 bg-indigo-600 rounded-full flex items-center justify-center">
															<svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
																<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
															</svg>
														</div>
													}
												</label>
											}
										</div>
										@if (errors()['notificationMethod']) {
											<p class="mt-2 text-sm text-red-600 flex items-center gap-1 animate-shake">
												<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
													<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
												</svg>
												{{ errors()['notificationMethod'] }}
											</p>
										}
									</div>

									<!-- Checkboxes -->
									<div class="space-y-4 pt-4 border-t border-slate-200">
										<h4 class="text-sm font-semibold text-slate-700 mb-4">Terms & Marketing</h4>
										
										<!-- Terms Checkbox -->
										<label 
											class="flex items-start gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 hover:shadow-md"
											[class]="formData().agreeTerms 
												? 'border-indigo-500 bg-indigo-50 shadow-md shadow-indigo-100' 
												: 'border-slate-200 hover:border-indigo-300 bg-white'"
										>
											<div class="relative flex-shrink-0 mt-0.5">
												<input 
													type="checkbox"
													[checked]="formData().agreeTerms"
													(change)="updateField('agreeTerms', $any($event.target).checked)"
													class="sr-only peer"
												/>
												<div 
													class="w-6 h-6 border-2 rounded-md transition-all duration-300 flex items-center justify-center"
													[class]="formData().agreeTerms 
														? 'bg-indigo-600 border-indigo-600' 
														: 'border-slate-300 bg-white'"
												>
													@if (formData().agreeTerms) {
														<svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
															<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
														</svg>
													}
												</div>
											</div>
											<div class="flex-1">
												<span class="font-medium text-slate-900">
													I agree to the <span class="text-indigo-600 hover:underline">Terms of Service</span> and <span class="text-indigo-600 hover:underline">Privacy Policy</span>
												</span>
												<span class="text-red-500 ml-1">*</span>
												<p class="text-sm text-slate-500 mt-1">You must agree to our terms to proceed with the submission.</p>
											</div>
										</label>
										@if (errors()['agreeTerms']) {
											<p class="text-sm text-red-600 flex items-center gap-1 animate-shake">
												<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
													<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
												</svg>
												{{ errors()['agreeTerms'] }}
											</p>
										}

										<!-- Marketing Checkbox -->
										<label 
											class="flex items-start gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 hover:shadow-md"
											[class]="formData().agreeMarketing 
												? 'border-emerald-500 bg-emerald-50 shadow-md shadow-emerald-100' 
												: 'border-slate-200 hover:border-emerald-300 bg-white'"
										>
											<div class="relative flex-shrink-0 mt-0.5">
												<input 
													type="checkbox"
													[checked]="formData().agreeMarketing"
													(change)="updateField('agreeMarketing', $any($event.target).checked)"
													class="sr-only peer"
												/>
												<div 
													class="w-6 h-6 border-2 rounded-md transition-all duration-300 flex items-center justify-center"
													[class]="formData().agreeMarketing 
														? 'bg-emerald-600 border-emerald-600' 
														: 'border-slate-300 bg-white'"
												>
													@if (formData().agreeMarketing) {
														<svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
															<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
														</svg>
													}
												</div>
											</div>
											<div class="flex-1">
												<span class="font-medium text-slate-900">Keep me updated with news and offers</span>
												<p class="text-sm text-slate-500 mt-1">Receive occasional emails about new features, updates, and special promotions.</p>
											</div>
										</label>
									</div>
								</div>
							}
						</div>
					</div>
				}

				<!-- Navigation & Submit Buttons -->
				<div class="px-8 py-6 bg-gradient-to-r from-slate-50 to-slate-100 border-t border-slate-200">
					<div class="flex flex-col sm:flex-row items-center justify-between gap-4">
						
						<!-- Section Navigation -->
						<div class="flex items-center gap-3">
							<button
								type="button"
								(click)="prevSection()"
								[disabled]="activeSection() === 0"
								class="flex items-center gap-2 px-4 py-2 text-slate-600 font-medium rounded-xl transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-white hover:shadow-md"
							>
								<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
								</svg>
								Previous
							</button>
							
							@if (activeSection() < formConfig.sections.length - 1) {
								<button
									type="button"
									(click)="nextSection()"
									class="flex items-center gap-2 px-4 py-2 bg-white text-slate-700 font-medium rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105"
								>
									Next
									<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
									</svg>
								</button>
							}
						</div>

						<!-- Action Buttons -->
						<div class="flex items-center gap-3">
							<button
								type="button"
								(click)="resetForm()"
								class="px-6 py-2.5 border-2 border-slate-300 text-slate-700 font-medium rounded-xl transition-all duration-300 hover:bg-slate-100 hover:border-slate-400"
							>
								Reset Form
							</button>
							
							<button
								type="submit"
								[disabled]="isSubmitting()"
								class="relative px-8 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg shadow-indigo-200 transition-all duration-300 hover:shadow-xl hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed disabled:hover:scale-100 overflow-hidden"
							>
								@if (isSubmitting()) {
									<span class="flex items-center gap-2">
										<svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24">
											<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
											<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
										</svg>
										Submitting...
									</span>
								} @else {
									<span class="flex items-center gap-2">
										Submit Form
										<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
										</svg>
									</span>
								}
							</button>
						</div>
					</div>
				</div>
			</form>
		</div>

		<!-- Footer Info -->
		<div class="mt-8 text-center text-sm text-slate-500">
			<p>All fields marked with <span class="text-red-500">*</span> are required</p>
			<p class="mt-1">Your data is securely stored and protected</p>
		</div>
	</div>
</div>
